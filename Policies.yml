allowlist_readAndDelete:
  description: A policy that allows a resource to read from dynamoDB and delete from it only if the tables name starts with allowlist_organization_
  Version: '2012-10-17'
  Statement:
  - Sid: VisualEditor0
    Effect: Allow
    Action: dynamodb:Query
    Resource: arn:aws:dynamodb:*:var.accountID:table/allowlist_organization_*/index/*
  - Sid: VisualEditor1
    Effect: Allow
    Action:
    - dynamodb:BatchWriteItem
    - dynamodb:DeleteItem
    - dynamodb:Query
    Resource: arn:aws:dynamodb:*:var.accountID:table/allowlist_organization_*

allowlist_accessPolicy:
  description: An access policy for allowlist lambda functions, which need to be able to access any tables with the prefix allowlist_organization_
  Version: '2012-10-17'
  Statement:
  - Sid: VisualEditor0
    Effect: Allow
    Action:
    - dynamodb:BatchWriteItem
    - dynamodb:PutItem
    - dynamodb:DeleteItem
    - dynamodb:GetItem
    - dynamodb:Query
    - dynamodb:UpdateItem
    Resource: arn:aws:dynamodb:*:var.accountID:table/allowlist_organization_*
  - Sid: VisualEditor1
    Effect: Allow
    Action: dynamodb:Query
    Resource: arn:aws:dynamodb:*:var.accountID:table/allowlist_organization_*/index/*

allowlist_createDynamoDBTable:
  description: A policy that allows a resource to create a dynamoDB table with a name like allowlist_organization_
  Version: '2012-10-17'
  Statement:
  - Sid: VisualEditor0
    Effect: Allow
    Action: dynamodb:CreateTable
    Resource: arn:aws:dynamodb:*:var.accountID:table/allowlist_organization_*

allowlist_setupRepo:
  description: A policy to allow a resource to access dynamoDB to query it and putitem, only if the name of the database these operations are on begins with allowlist_organization_
  Version: '2012-10-17'
  Statement:
  - Sid: VisualEditor0
    Effect: Allow
    Action: dynamodb:Query
    Resource: arn:aws:dynamodb:*:var.accountID:table/allowlist_organization_*/index/*
  - Sid: VisualEditor1
    Effect: Allow
    Action:
    - dynamodb:PutItem
    - dynamodb:Query
    Resource: arn:aws:dynamodb:*:var.accountID:table/allowlist_organization_*

allowlist_deleteTable:
  description: A policy to allow a resource to access dynamoDB and delete tables with names like allowlist_organization_
  Version: '2012-10-17'
  Statement:
  - Sid: VisualEditor0
    Effect: Allow
    Action: dynamodb:DeleteTable
    Resource: arn:aws:dynamodb:*:var.accountID:table/allowlist_organization_*

gitApp_accessParamStore:
  description: Allows an application to access SSM Parameter Store for parameters with name like gitapp_
  Version: '2012-10-17'
  Statement:
  - Sid: VisualEditor0
    Effect: Allow
    Action: ssm:GetParameter
    Resource: arn:aws:ssm:*:var.accountID:parameter/gitapp_*
